<h2>Latest Blog Posts</h2>

<div class="blog-grid">

  {% for post in blogs %}
  <div class="blog-card">

    <div class="blog-img">
      {% if post.cover_image %}
        <img src="{{ post.cover_image.url }}" alt="{{ post.title }}">
      {% endif %}
    </div>

    <div class="blog-body">
      <span class="blog-category">{{ post.category }}</span>

      <h3 title="{{ post.title }}">
        {{ post.title|truncatechars:60 }}
      </h3>

      <div class="blog-meta">
        By {{ post.author.username }} •
        {{ post.created_at|date:"M d, Y" }} •
        {{ post.created_at|time:"H:i" }}
      </div>

      <!-- FIXED: go to blog detail -->
      <a href="{% url 'blog_detail' post.id %}" class="read-btn">
        Read More →
      </a>
    </div>

  </div>
  {% empty %}
    <p>No blog posts available.</p>
  {% endfor %}

</div>


<!-- PAGINATION -->
{% if blogs.has_other_pages %}
<div style="margin-top:30px; text-align:center;">

  {% if blogs.has_previous %}
    <a href="?page={{ blogs.previous_page_number }}"
       class="create-btn"
       style="margin-right:10px;">
       ← Previous
    </a>
  {% endif %}

  {% for num in blogs.paginator.page_range %}
      {% if blogs.number == num %}
          <span style="
              padding:8px 12px;
              background:#0b132b;
              color:white;
              border-radius:6px;
              margin:0 4px;
          ">
              {{ num }}
          </span>
      {% else %}
          <a href="?page={{ num }}"
             style="
                 padding:8px 12px;
                 background:#e5e7eb;
                 border-radius:6px;
                 margin:0 4px;
                 text-decoration:none;
                 color:#111;
             ">
             {{ num }}
          </a>
      {% endif %}
  {% endfor %}

  {% if blogs.has_next %}
    <a href="?page={{ blogs.next_page_number }}"
       class="create-btn"
       style="margin-left:10px;">
       Next →
    </a>
  {% endif %}

</div>
{% endif %}


<a href="{% url 'blog_list' %}" style="
  display:inline-block;
  margin-top:25px;
  font-weight:600;
  text-decoration:none;
  color:#0b132b;
">
  View all blogs →
</a>
